## 이펙티브 자바 완벽 공략 1부 강의

#### Reference) 이펙티브 자바 완벽 공략 1부 인프런 강의를 듣고 정리


#### 아이템1. 생성자 대신 정적 팩터리 메서드를 고려하라

- 추상 팩토리 패턴이나 팩토리 메서드 패턴과는 다르다.

- 장점 
  - 메소드로 이름을 부여해서 표현을 잘할 수 있다.
  - 유연함
    - 반환 타입에 호환 가능한 다른 인스턴스로 리턴 가능)
    - 입력 매개변수에 따라 다른 인스턴스 반환 가능
- 단점
  - 정적 팩토리 메서드만 제공하면 상속을 하기 어렵다.
  - 정적 팩토리 메서드는 개발자가 찾기 어렵다.
    - 예시) javadoc 으로 변환 시 Constructor Summary 에 노출되지않음
    - 네이밍이나 문서화를 잘해서 알아보기 쉽게하자.

- 열거타입 (enum)
  - 정의된 상수 목록을 가지는 데이터 타입
  - Type-Safety
  - 싱글톤 패턴 구현 시에 사용하기도 한다.
  - enum 은 하나의 인스턴스만 가지기 때문에 ```equals()```가 아닌 ```==``` 으로 비교하면된다.
  - ```.equals(...)``` 는 npe 발생 가능성도 있기때문에..
  - enum 관련 컬렉션은 ```EnumSet``` / ```EnumMap``` 을 쓰는게 효율적이다.
      - why?
          - EnumMap 의 구조
              - 내부적으로 배열로 관리
              - 키를 별도로 관리하지않음으로써 메모리를 효율적으로 사용 가능
              - value 검색시 즉시 데이터의 위치값을 알 수 있음
              - get() 요청 시 enum 의 ordinal 을 인덱스로 활용하여 value 조회하기때문
          - EnumSet 의 구조
              - 내부적으로 bit bector 사용 -> 메모리 효율, 성능면에서 뛰어남 
          - Hash 와 비교했을 때 : enum 은 단일 객체를 보장하기 때문에 Hash 작업이 필요없다. -> 성능 이점
       
- 플라이웨이트 패턴
  - 같은 객체를 재사용하는 방법 중에 하나
  - 객체를 가볍게 만들어 메모리 사용을 줄이는 패턴
  - 자주 변하는 속성과 변하지 않는 속성을 분리하고 재사용하여 메모리를 줄일 수 있다.

- 인터페이스와 정적 메서드
  - 인스턴스 메서드 or static 한 메서드를 정의할건지에 따라서 인터페이스에서 default or static 메서드 구현
  - default 메서드는 해당 인터페이스를 구현한 모든 인스턴스에서 동일하게 가지는 메서드
  - 자바 9부터 private static 메서드 지원 : 인터페이스 내부에서 정적으로 사용하기위해서 구현하는 메서드
  - 참고) Comparator 인터페이스에서는 reversed() default 메서드 제공
 
- 서비스 제공자 프레임워크
  - ex) 스프링 PSA

- 리플렉션
  - 클래스로더를 통해 읽어온 클래스 정보를 사용하는 기술
  - 리플렉션을 사용해 클래스를 읽어오거나, 인스턴스를 만들거나, 메소드 실행, 필드 값을 가져오거나 수정하는 것 등이 가능하다.
  - 사용 예시
    - 특정 애노테이션이 붙어있는 필드 또는 메소드 읽어오기 (junit, spring)
    - 특정 이름 패턴에 해당하는 메소드 목록 가져와 호출 (getter, setter)

  
